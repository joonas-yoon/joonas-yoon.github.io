"use strict";(function(a){a(function(){function b(){k.style.width=k.style.height="64px"}function c(){k.style.width=k.style.height="32px"}function d(){k.style.display="none"}function e(d){a(d).find("a").each(function(d,f){a(f).on("mouseover",function(){b(),k.style.background="#fbf074"}),a(f).on("mouseout",function(){c(),k.style.background="white"})})}var f=a(window),g=a("body"),h=a("#main");g.addClass("is-loading"),f.on("load",function(){window.setTimeout(function(){g.removeClass("is-loading")},100)});var i=document.getElementById("video-anim"),j=i.querySelector("video");if(function(){var a=navigator.userAgent,b=-1!==a.indexOf("MSIE")||-1!==a.indexOf("Trident"),c=!!a.match(/Version\/[\d\.]+.*Safari/)||-1!==a.indexOf("Mac");return b||c}()||!document.createElement("video").canPlayType)i.querySelector("img").style.display="block",j.style.display="none";else{j.style.display="block",j.autoplay=!0,j.muted=!0,j.controls=!1,j.load();var n=j.play();n!==void 0&&n.then(function(){})["catch"](function(a){i.querySelector("img").style.display="block",j.style.display="none",console.error(a)})}var k=document.getElementById("cursor");document.addEventListener("mousemove",function(a){k.style.top=a.pageY+"px",k.style.left=a.pageX+"px"}),document.addEventListener("mousedown",b),document.addEventListener("mouseup",c),document.addEventListener("touchstart",d,!1),document.addEventListener("touchend",d,!1),document.addEventListener("touchmove",d,!1),document.addEventListener("touchcancel",d,!1),e(document),a("#top a[href]").on("click",function(){a("#top").fadeOut()}),a(".overlay-close").on("click",function(){a("#top").fadeOut()}),a(".overlay-show").on("click",function(){a("#top").fadeIn()}),a(window).on("scroll",function(){var b=!1;a(".sidebar.navigator").find("a").each(function(a,c){var d=document.getElementById(c.href.split("#")[1]),e=d.getBoundingClientRect();!b&&0<=e.y&&e.y<window.innerHeight?(c.setAttribute("class","active"),b=!0):c.removeAttribute("class")})});var l=a("#modal"),m=l.find(".modal-wrapper");a("[modal-href]").each(function(b,c){c.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation();var d=c.getAttribute("modal-bg")||"#1b1b1b",f=c.getAttribute("modal-fg")||"white";m.css("background-color",d),m.css("color",f),m.find(".modal-close-button > svg").css("fill",f);var g=c.getAttribute("modal-href"),h=l.find("#modal-spinner"),i=l.find("#modal-content");i.html(""),h.show(),l.fadeIn(),a.ajax({url:"pages/"+g,dataType:"html",success:function success(a){i.html(a),e(i)},error:function error(a,b,c){i.html("<div class=\"error\"><h1>".concat(a.status,"</h1><p class=\"sorry\">Sorry, the page you tried cannot be found.</p><p class=\"detail\">").concat(b," ").concat(c,"</p></div>"))},complete:function complete(){h.hide()}})})}),a(".modal-bg").on("click",function(){l.fadeOut()}),a(".modal-close-button").on("click",function(){l.fadeOut()})})})(jQuery);