"use strict";(function(a){a(function(){var b=Math.min,c=Math.max;function d(){o.style.width=o.style.height="64px"}function e(){o.style.width=o.style.height="32px"}function f(){o.style.display="none"}function g(b){a(b).find("a").each(function(b,c){a(c).on("mouseover",function(){d(),o.style.background="#fbf074"}),a(c).on("mouseout",function(){e(),o.style.background="white"})})}function h(a,d){var e=this;this.speed=.3,this.dx=Math.random()*(.5>Math.random()?-1:1)*this.speed,this.dy=Math.random()*(.5>Math.random()?-1:1)*this.speed,this.dz=.1*(Math.random()*(.5>Math.random()?-1:1)),this.x=a,this.y=d,this.z=Math.random(),this.ix=0,this.iy=0,this.width=0,this.height=0;var f=function(a,b,c,d,e){a.beginPath(),a.arc(b,c,d,0,2*Math.PI),a.closePath(),a.fillStyle=e||"#000",a.fill()};return{getX:function getX(){return e.x},getY:function getY(){return e.y},set:function setXY(a,b){e.x=a,e.y=b},setVector:function setVector(a,b){e.dx=a,e.dy=b},getVector:function getVector(){return{dx:e.dx+e.ix,dy:e.dy+e.iy}},setBounds:function setBounds(a,b){e.width=a,e.height=b},drawLine:function drawLine(a,b,c,d){a.beginPath(),a.moveTo(b.getX(),b.getY()),a.lineTo(c.getX(),c.getY()),a.closePath(),a.lineWidth=1,a.strokeStyle=d||"#000",a.stroke()},drawCircle:f,draw:function draw(a){var b=(1.5-e.z)/200+.5;f(a,e.x,e.y,c(1,2-e.z),"rgba(255, 255, 255, "+b+")")},move:function move(){var a=e.x+e.dx+e.ix,d=e.y+e.dy+e.iy,f=e.z+e.dz;(0>=a||a>=e.width)&&(e.dx*=-1),(0>=d||d>=e.height)&&(e.dy*=-1),(0>=f||1.5<=f)&&(e.dz*=-1),e.x=c(0,b(a,e.width)),e.y=c(0,b(d,e.height)),e.z=f,e.dx+=.005*e.ix,e.dy+=.005*e.iy,e.ix*=.95,e.iy*=.95},getDistance:function distance(a){var b=e.x-a.getX(),c=e.y-a.getY();return Math.sqrt(b*b+c*c)},pushForce:function pushForce(a,b){e.ix+=a,e.iy+=b}}}function j(){r.width=window.innerWidth,r.height=window.innerHeight,v.forEach(function(a){a.setBounds(r.width,r.height)})}function k(){s.clearRect(0,0,r.width,r.height);var a=b(window.innerWidth,window.innerHeight)/5;!1,v.forEach(function(b,d){for(var p,q=d+1;q<v.length;++q)if(p=b.getDistance(v[q]),150>p){var j=c(0,.8-p/150);b.drawLine(s,b,v[q],"rgba(255, 255, 255, "+j+")")}if(u.getX()!=1/0){var r=u.getDistance(b);if(r<=a){var e=b.getX()-u.getX(),f=b.getY()-u.getY(),g=a/r*e,i=a/r*f,k=new h(u.getX()+g,u.getY()+i),l=b.getVector(),m=l.dx,n=l.dy,o=r/a;b.pushForce(.001*((k.getX()-b.getX())*(1-o)),.001*((k.getY()-b.getY())*(1-o))),!1}}b.move(),b.draw(s)}),window.requestAnimationFrame(k)}var l=a(window),m=a("body"),n=a("#main");m.addClass("is-loading"),l.on("load",function(){window.setTimeout(function(){m.removeClass("is-loading")},100)});var o=document.getElementById("cursor");document.addEventListener("mousemove",function(a){o.style.top=a.clientY+"px",o.style.left=a.clientX+"px"}),document.addEventListener("mousedown",d),document.addEventListener("mouseup",e),document.addEventListener("touchstart",f,!1),document.addEventListener("touchend",f,!1),document.addEventListener("touchmove",f,!1),document.addEventListener("touchcancel",f,!1),g(document),a("#top a[href]").on("click",function(){a("#top").fadeOut()}),a(".overlay-close").on("click",function(){a("#top").fadeOut()}),a(".overlay-show").on("click",function(){a("#top").fadeIn()}),a(window).on("scroll",function(){var b=!1;a(".sidebar.navigator").find("a").each(function(a,c){var d=document.getElementById(c.href.split("#")[1]),e=d.getBoundingClientRect();!b&&0<=e.y&&e.y<window.innerHeight?(c.setAttribute("class","active"),b=!0):c.removeAttribute("class")})});var p=a("#modal"),q=p.find(".modal-wrapper");a("[modal-href]").each(function(b,c){c.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation();var d=c.getAttribute("modal-bg")||"#1b1b1b",e=c.getAttribute("modal-fg")||"white";q.css("background-color",d),q.css("color",e),q.find(".modal-close-button > svg").css("fill",e);var f=c.getAttribute("modal-href"),h=p.find("#modal-spinner"),i=p.find("#modal-content");i.html(""),h.show(),p.fadeIn(),a.ajax({url:"pages/"+f,dataType:"html",success:function success(a){i.html(a),g(i)},error:function error(a,b,c){i.html("<div class=\"error\"><h1>".concat(a.status,"</h1><p class=\"sorry\">Sorry, the page you tried cannot be found.</p><p class=\"detail\">").concat(b," ").concat(c,"</p></div>"))},complete:function complete(){h.hide()}})})}),a(".modal-bg").on("click",function(){p.fadeOut()}),a(".modal-close-button").on("click",function(){p.fadeOut()});var r=document.getElementById("canvas-bg"),s=r.getContext("2d");r.width=window.innerWidth,r.height=window.innerHeight;for(var t,u=new h(1/0,1/0),v=[],w=r.width*r.height,x=0;x<w/100/128;++x)t=new h(Math.random()*r.width,Math.random()*r.height),t.setBounds(r.width,r.height),v.push(t);window.addEventListener("mousemove",function(a){u.set(a.clientX,a.clientY)}),window.addEventListener("resize",j,!0),j(),window.requestAnimationFrame(k)})})(jQuery);